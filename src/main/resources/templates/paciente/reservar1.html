<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Paciente - Reservar cita</title>

        <th:block th:replace="~{paciente/fragments/head.html::estilos}"></th:block>

    </head>
    <body>

        <!-- ======= Header ======= -->
        <div th:replace="~{paciente/fragments/header.html :: header(paciente = ${session.paciente})}"></div>
        <!-- End Header -->

        <!-- ======= Sidebar ======= -->
        <div th:replace="~{paciente/fragments/sidebar.html :: sidebar('')}"></div>
        <!-- End Sidebar-->

        <main id="main" class="main site-content">

            <h1 class="encabezado text-center" style="width: 90%">Reservar cita</h1>

            <div class="bodyReservar">
                <div class="cardReservar py-4">

                    <form method="post" th:action="@{/Paciente/reservar1}" th:object="${citaTemporal}">

                        <div class="row justify-content-center">
                            <div class="col-sm-10 col-md-8 col-lg-6">

                                <div class="campo">
                                    <div class="fw-bold mb-1">
                                        Modalidad
                                    </div>
                                    <select name="modalidad" class="form-select" id="select_modalidad"
                                            th:field="*{modalidad}"
                                            th:classappend="${#fields.hasErrors('modalidad')? 'is-invalid':''}">
                                        <option value="">-- Seleccione una modalidad --</option>
                                        <option value="0">Presencial</option>
                                        <option value="1">Virtual</option>
                                    </select>
                                    <div class="invalid-feedback" th:if="${#fields.hasErrors('modalidad')}"
                                         th:errors="*{modalidad}"></div>
                                </div>

                                <div class="campo">
                                    <div class="fw-bold mb-1">
                                        Especialidad
                                    </div>
                                    <select class="form-select" id="select_especialidad" th:field="*{idEspecialidad}"
                                            th:classappend="${#fields.hasErrors('idEspecialidad')? 'is-invalid':''}">
                                        <option value="">-- Seleccione una especialidad --</option>
                                    </select>
                                    <div class="invalid-feedback" th:if="${#fields.hasErrors('idEspecialidad')}"
                                         th:errors="*{idEspecialidad}"></div>
                                </div>

                                <div class="campo" id="campoSede">
                                    <div class="fw-bold mb-1">
                                        Sede
                                    </div>
                                    <select class="form-select" th:field="*{idSede}"
                                            th:classappend="${#fields.hasErrors('idSede')?'is-invalid':''}">
                                        <option value="">-- Seleccione una sede --</option>
                                        <option th:each="sede, iterStat:${sedeList}" th:if="${iterStat.index} &lt; 3"
                                                th:value="${sede.idSede}" th:text="${sede.nombre}">San Miguel
                                        </option>
                                    </select>
                                    <div class="invalid-feedback" th:if="${#fields.hasErrors('idSede')}"
                                         th:errors="*{idSede}"></div>
                                </div>

                            </div>
                        </div>
                        <div class="d-flex justify-content-center py-3">
                            <a th:href="@{/Paciente/reservarTipo}" class="botonCancelar">Cancelar</a>
                            <button type="submit" class="botonAceptar ms-3">Siguiente</button>
                        </div>
                    </form>

                </div>
            </div>

        </main><!-- End #main -->

        <!-- Bootstrap CDN JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
                crossorigin="anonymous"></script>

        <!-- Template Main JS File -->
        <script th:src="@{/assets/js/main.js}"></script>

        <!-- JQuery -->
        <script src="https://code.jquery.com/jquery-3.7.0.js"
                integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>

        <!-- Funciones y Ajax -->
        <script th:src="@{/assets/js/paciente_ReservarCita.js}"></script>
    </body>
</html>